/*
    File: fn_setupStationService.sqf
    Author: NiiRoZz
    Edit: BoGuu - Added Tanoa Stations

    Description:
    Add action fuel action in Station Service.

    put function in init file then execute it with:
    call getFuelpumps;
    getFuelpumps =
    {
        _pos = getArray(configFile >> "CfgWorlds" >> worldName >> "centerPosition");
        _Station = nearestobjects [_pos,["Land_FuelStation_01_pump_F"], 25000];
        _br = toString [13, 10];
        _tab = toString [9];

        _TexteSortie = "_NiiRoZz_Station_Essence = [" + _br;

        {
            _Array = [getpos _x];
            _TexteSortie = _TexteSortie + _tab + (str _Array);
            _TexteSortie = if (_forEachIndex < ((count _Station) - 1)) then {_TexteSortie + ", " + _br} else {_TexteSortie + _br};
        } forEach _Station;
        _TexteSortie = _TexteSortie + "];";
        hint "Completed";
        copyToClipboard _TexteSortie;
    };
	
	

	_NiiRoZz_Station_Essence = [
	[[4963.71,7901.16,-0.0693893],
	[[4963.51,7899.06,-0.100006],
	[[4970.72,7900.8,-0.0563736],
	[[4970.51,7898.71,-0.0975037],
	[[4977.49,7900.01,-0.0616837],
	[[4977.29,7897.91,-0.102676],
	[[2004.07,7378.32,-0.0803719],
	[[2001.71,7377.53,-0.00785065],
	[[2006.32,7371.6,-0.124725],
	[[2004.04,7371.02,-0.149265],
	[[2007.97,7364.9,-0.148308],
	[[2005.68,7364.31,-0.133812],
	[[1148.69,7219.95,-1.90735e-006],
	[[6258.89,3948.73,0.0512238],
	[[6262.48,3945.4,0.0506439],
	[[10206.6,2175.64,-0.0413132],
	[[10212.7,2179.1,-0.140099],
	[[10218.7,2182.42,-0.0766602],
	[[10208,2173.1,-0.00315857],
	[[10214.1,2176.56,-0.0827103],
	[[10220,2179.87,-0.0613174]]
];


Init:
this setFuelcargo 0; this enableSimulation false;

Schaden aus, Simulation aus

*/
//private ["_pump"];

private _altisPositions = [

	[9338.71,10881.9,5.12278], 
	[9338.26,10885.6,5.11149], 
	[9338.51,10883.7,5.11788], 
	[14577.8,16449.3,43.6443], 
	[3781.74,13416.4,0.48488], 
	[3785.59,13421.9,0.431413], 
	[3788.91,13411.5,0.390602], 
	[3792.83,13417,0.241079], 
	[3800.14,13412.1,0.514977], 
	[3796.17,13406.5,0.461774], 
	[3793.19,13432.6,0.101139], 
	[3797.47,13438.6,0.121119], 
	[3800.42,13427.7,0.208236], 
	[3804.91,13434,0.316135], 
	[3812.4,13429.3,0.53124], 
	[3807.76,13422.8,0.46495], 
	[14751,16845,-0.0164337], 
	[14754.1,16848.3,-0.0201969], 
	[9023.66,15729.1,0.285004],
	[16875.2,15469.5,0.231076], 
	[16871.7,15476.7,0.196763], 
	[14173.2,16541.9,0.282], 
	[14221.4,18302.5,0.260138], 
	[16750.2,12513.1,0.307556], 
	[21230.5,7116.69,0.245556], 
	[20782.1,16663.6,0.28574], 
	[20787.2,16669.8,0.131496], 
	[25701.3,21372.6,0.284998], 
	[9523.417,20331.480,0.290]
];

private _tanoaPositions = [
    [7978.23,7419.24,-0.100807],
    [7976.92,7427.11,-0.058516],
    [5173.94,8806.35,-0.0822775],
    [8318.9,9708.81,-0.0886936],
    [8320.71,9712.02,-0.0936089],
    [5388.58,4090.7,-0.0951052],
    [5379.5,4092.98,-0.0942526],
    [10826.8,6489.7,-0.082561],
    [8970.37,10332.2,-0.0989342],
    [11146.1,5152,-0.0805874],
    [11154,5152.43,-0.0809298],
    [10935.1,9856.06,-0.129646],
    [10940.8,9855.39,-0.122383],
    [2462.99,7430.69,-0.0870638],
    [2451.51,7434.7,-0.0931244],
    [8494.36,12431.9,-0.110229],
    [8493.01,12437.9,-0.106827],
    [8492.14,12441.6,-0.0828552],
    [5594.15,12508.2,-0.0947819],
    [11631,2998.85,-0.0782437],
    [11642,2990.83,-0.0782394],
    [3029.45,11316.1,-0.0828028],
    [2137.26,3360.77,-0.0583258],
    [2132.29,3360.43,-0.0607367],
    [8952.38,13678,-0.0624466],
    [8954.36,13678,-0.0624466],
    [8956.19,13677.8,-0.0624466],
    [14364.7,8743.01,-0.0650101],
    [14260.9,11513,-0.114521],
    [14264.8,11508.9,-0.108963],
    [6886.99,7490.55,0],
    [7366.7,7995.42,-0.212462],
    [7358.5,7998.4,-0.190624],
    [7369.15,8002.09,-0.129763],
    [7360.96,8005.08,-0.171917],
    [5771.25,4239.42,-0.205085],
    [5776.41,4232.31,-0.232585],
    [5767.14,4236.94,-0.182347],
    [5781.14,4224.93,-0.229755],
    [5771.14,4229.01,-0.235736],
    [5775.74,4221.55,-0.232986],
    [5409.42,9905.04,0.00515461],
    [5403.54,9905.04,0.00549698],
    [5409.69,9913.75,0.00508261],
    [5403.81,9913.74,0.00502348],
    [5681.72,10164.6,-0.0340471],
    [5685.9,10173,-0.0219851],
    [5677.78,10173.8,-0.0185199],
    [5683.21,10182,-0.0282073],
    [5810.65,10816.9,0.0893035],
    [5801.93,10816.8,0.0450912],
    [5793.12,10817,0.0373325],
    [5810.71,10825.1,0.0521221],
    [5801.99,10825,0.039825],
    [5793.18,10825.1,0.0337515],
    [12613.3,7582.82,-0.264584],
    [12618.1,7580.01,-0.330997],
    [12617.5,7590.52,-0.225117],
    [12622.3,7587.7,-0.245724],
    [6600.12,13076.3,-0.249989],
    [6592,13079.6,-0.231892],
    [6602.45,13082,-0.230906],
    [6583.86,13082.9,-0.230913],
    [6594.32,13085.3,-0.230906],
    [6586.18,13088.6,-0.230906],
    [11686.6,2267.25,-0.208622],
    [11694.3,2271.39,-0.203085],
    [11689.9,2260.98,-0.205484],
    [11697.6,2265.13,-0.199961],
    [9953.85,13467,-0.23254],
    [9960.31,13466.6,-0.23254],
    [9954.45,13475.7,-0.23254],
    [9960.92,13475.4,-0.23254],
    [9954.69,13484.5,-0.23254],
    [9961.15,13484.2,-0.23254],
    [1873.69,12121.5,-0.248567],
    [1874.1,12127.6,-0.203133],
    [1864.93,12122,-0.331924],
    [1865.37,12128,-0.236609],
    [11618.7,13053,-0.255869],
    [11627,13050.4,-0.237558],
    [11635.3,13047.4,-0.229898],
    [11620.6,13058.4,-0.237006],
    [11629,13055.8,-0.232919],
    [11637.2,13052.8,-0.228891]
];

private _enochPositions = [

	[4963.71,7901.16,-0.0693893], 
	[4963.51,7899.06,-0.100006],
	[4970.72,7900.8,-0.0563736],
	[4970.51,7898.71,-0.0975037],
	[4977.49,7900.01,-0.0616837],
	[4977.29,7897.91,-0.102676],
	[2004.3,7378.2,-0.0891762],
	[2004.07,7378.32,-0.0803719],
	[2001.71,7377.53,-0.00785065],
	[2001.79,7377.39,-0.0891762],
	[2006.42,7371.68,-0.0891762],
	[2006.32,7371.6,-0.124725],
	[2004.04,7371.02,-0.149265],
	[2003.92,7370.86,-0.0891762],
	[2008.52,7365.02,-0.0891762],
	[2007.97,7364.9,-0.148308],
	[2006.02,7364.2,-0.0891762],
	[2005.68,7364.31,-0.133812],
	[1148.57,7220.13,4.95911e-005],
	[6258.89,3948.73,0.0512238],
	[6258.85,3948.69,0],
	[6262.41,3945.44,0],
	[6262.48,3945.4,0.0506439],
	[10206.6,2175.64,-0.0413132],
	[10206.7,2175.68,-0.0940781],
	[10212.7,2179.1,-0.140099],
	[10212.7,2178.92,-0.0940781],
	[10218.7,2182.42,-0.0766602],
	[10218.8,2182.21,-0.0940781],
	[10208,2173.1,-0.00315857],
	[10208.1,2173.13,-0.0940781],
	[10214.1,2176.56,-0.0827103],
	[10214.1,2176.37,-0.0940781],
	[10220,2179.87,-0.0613174],
	[10220.2,2179.66,-0.0940781]
];

private _stratisPositions = [
	[2718.141,5789.893,0.285],
	[2710.966,5793.26,0.295]
];
//"Land_fs_feed_F","Land_FuelStation_01_pump_F","Land_FuelStation_02_pump_F","Land_FuelStation_03_pump_F","Land_FuelStation_Feed_F"

private _stationPositions = [[["Altis", _altisPositions], ["Tanoa", _tanoaPositions], ["Enoch", _enochPositions], ["Stratis", _stratisPositions]]] call TON_fnc_terrainSort;
{
    private _pump = nearestObjects [_x,["Land_FuelStation_01_pump_F"],20] select 0;
	_pump setFuelCargo 0;
    _pump addAction [localize "STR_Action_Pump", husky_fnc_fuelStatOpen, 1, 3, true, true, "", '_this distance _target < 5 && cursorObject isEqualTo _target'];
    false
} count _stationPositions;
